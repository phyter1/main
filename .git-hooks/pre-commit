#!/usr/bin/env sh

# Pre-commit hook for code quality checks
# Runs lint-staged to check only staged files

echo "Running pre-commit checks..."

# Run lint-staged
bunx lint-staged

# Capture the exit code
LINT_EXIT_CODE=$?

# Check if lint-staged passed
if [ $LINT_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "❌ Pre-commit checks failed!"
  echo "Please fix the issues above before committing."
  echo ""
  exit 1
fi

echo ""
echo "✅ All pre-commit checks passed!"
echo ""
exit 0
